<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sunbeam | Staff Login</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  height:100vh;
  background:linear-gradient(135deg,#0f172a,#1e3a8a,#2563eb);
  display:flex;
  align-items:center;
  justify-content:center;
  color:white;
}

/* LOGIN CARD */
.login-card{
  width:380px;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(15px);
  border-radius:20px;
  padding:40px 30px;
  box-shadow:0 20px 60px rgba(0,0,0,0.4);
  text-align:center;
}

/* LOGO */
.logo{
  width:110px;
  margin-bottom:15px;
}

/* TITLE */
.company{
  font-size:28px;
  font-weight:700;
  letter-spacing:1px;
}

.subtitle{
  font-size:14px;
  color:#facc15;
  margin-bottom:10px;
}

/* DATE TIME */
.datetime{
  font-size:12px;
  opacity:0.8;
  margin-bottom:25px;
}

/* INPUTS */
.input-group{
  margin-bottom:15px;
}

input{
  width:100%;
  padding:12px 15px;
  border:none;
  border-radius:10px;
  outline:none;
  font-size:14px;
}

/* BUTTON */
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#facc15;
  color:#111827;
  font-weight:600;
  font-size:15px;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  background:#fde047;
  transform:scale(1.02);
}

/* FOOTER */
.footer{
  margin-top:15px;
  font-size:11px;
  opacity:0.6;
}

/* MOBILE */
@media(max-width:450px){
  .login-card{
    width:90%;
    padding:30px 20px;
  }
}

</style>
</head>

<body>

<div class="login-card">

  <img src="assets/logo.png" class="logo">

  <div class="company">SUNBEAM</div>
  <div class="subtitle">Staff Login</div>

  <div class="datetime" id="datetime"></div>

  <div class="input-group">
    <input type="text" id="username" placeholder="Username">
  </div>

  <div class="input-group">
    <input type="password" id="password" placeholder="Password">
  </div>

  <button onclick="login()">Sign In</button>

  <div class="footer">Secure Internal Access</div>

</div>

<script>

function updateDateTime(){
  const now = new Date();
  document.getElementById("datetime").innerText =
    now.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})
    +" â€¢ "+
    now.toLocaleTimeString("en-US");
}

setInterval(updateDateTime,1000);
updateDateTime();

async function login(){
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;

  if(!username || !password){
    alert("Please fill all fields");
    return;
  }

  const res = await fetch("/api/login",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({username,password})
  });

  const data = await res.json();

  if(data.success){
    window.location.href = data.redirect;
  }else{
    alert("Invalid credentials");
  }
}

</script>

</body>
</html>